<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>Minisearchengine by CubeSugar</title>
    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/pygment_trac.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
    <script src="javascripts/respond.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <!--[if lt IE 8]>
    <link rel="stylesheet" href="stylesheets/ie.css">
    <![endif]-->
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">

  </head>
  <body>
      <div id="header">
        <nav>
          <li class="fork"><a href="https://github.com/CubeSugar/MiniSearchEngine">View On GitHub</a></li>
          <li class="downloads"><a href="https://github.com/CubeSugar/MiniSearchEngine/zipball/master">ZIP</a></li>
          <li class="downloads"><a href="https://github.com/CubeSugar/MiniSearchEngine/tarball/master">TAR</a></li>
          <li class="title">DOWNLOADS</li>
        </nav>
      </div><!-- end header -->

    <div class="wrapper">

      <section>
        <div id="title">
          <h1>Minisearchengine</h1>
          <p>mini search engine</p>
          <hr>
          <span class="credits left">Project maintained by <a href="https://github.com/CubeSugar">CubeSugar</a></span>
          <span class="credits right">Hosted on GitHub Pages &mdash; Theme by <a href="https://twitter.com/michigangraham">mattgraham</a></span>
        </div>

        <h1>
<a name="minisearchengine" class="anchor" href="#minisearchengine"><span class="octicon octicon-link"></span></a>MiniSearchEngine</h1>

<h2>
<a name="brief-introduction" class="anchor" href="#brief-introduction"><span class="octicon octicon-link"></span></a>Brief Introduction</h2>

<hr><h3>
<a name="1-description" class="anchor" href="#1-description"><span class="octicon octicon-link"></span></a>1. Description</h3>

<p>搜索引擎迷你项目，将网页/文本数据建库，去重，计算相似度生成检索资源；编写Linux守护进程以支持前台页面的查询请求。</p>

<p>项目关键词：**分词**、**余弦相似度**、**VSM**、**倒排索引**、**守护进程**、**网络编程**等</p>

<h3>
<a name="2-develop-environment" class="anchor" href="#2-develop-environment"><span class="octicon octicon-link"></span></a>2. Develop Environment</h3>

<ul>
<li><p>Ubuntu 12.04</p></li>
<li><p>g++ 4.6.3</p></li>
<li><p>python 3.3.2</p></li>
</ul><h3>
<a name="3-directory-arch" class="anchor" href="#3-directory-arch"><span class="octicon octicon-link"></span></a>3. Directory Arch</h3>

<p>
MiniSearchEngine<br>
├ bin<br>
├ data<br>
│    ├ Raw_Data<br>
│    ├ ripepage.lib<br>
│    ├ query.lib<br>
│    └ index.lib<br>
├ include<br>
├ lib<br>
│    ├ libcode.a<br>
│    └ libelus.a<br>
├ log<br>
├ src<br>
│    └ stopwordlist.txt<br>
├ search_engine.conf<br>
└ Makefile<br></p>

<h3>
<a name="4-module" class="anchor" href="#4-module"><span class="octicon octicon-link"></span></a>4. Module</h3>

<h4>
<a name="indexlib" class="anchor" href="#indexlib"><span class="octicon octicon-link"></span></a>index.lib</h4>

<p>从ripepage.lib中读取query word的偏移位置，存储在index.lib文件中，格式如下：</p>

<pre><code>queryword1 \t offset1
queryword2 \t offset2
…
</code></pre>

<h4>
<a name="wordsegement" class="anchor" href="#wordsegement"><span class="octicon octicon-link"></span></a>WordSegement</h4>

<p>调用分词库libcode.a libelus.a进行分词。</p>

<p>分词原理的学习附在Reference部分。</p>

<h4>
<a name="delete-duplicate" class="anchor" href="#delete-duplicate"><span class="octicon octicon-link"></span></a>Delete Duplicate</h4>

<ol>
<li>
<p>指纹法去重</p>

<p>特征码：该网页/文本中词频最高的10个词；
判重算法：对于每两篇，比较topword10的交集，如果交集大于6个，则认为是互为重复的网页。</p>
</li>
<li>
<p>特征码去重</p>

<p>特征码：提取该网页/文本中每个逗号前后的5个字节，将这些字符串顺序连接成一个特征字符串S。
判重算法：对于两篇网页/文本，计算S1和S2的LCS，如果len(LCS)/min(len(S1), len(S2)) &gt; 0.6则判定为重复。</p>
</li>
</ol><p>去重后生成一个全词集合文本，格式如下：</p>

<pre><code>word1 \t docid_i \t offset_i \t docid_k \t offset_k \t …
word2 \t docid_j \t offset_j \t …
…
</code></pre>

<h4>
<a name="calculate-similarity" class="anchor" href="#calculate-similarity"><span class="octicon octicon-link"></span></a>Calculate Similarity</h4>

<p>网页/文本相似度计算基于VSM与余弦相似度，本项目中采用简化模型“tf-idf”。</p>

<p>VSM、余弦相似度的相关资料附在Reference部分。</p>

<h4>
<a name="query-process" class="anchor" href="#query-process"><span class="octicon octicon-link"></span></a>Query Process</h4>

<p>Linux 守护进程，实现cache</p>

<h4>
<a name="front-end" class="anchor" href="#front-end"><span class="octicon octicon-link"></span></a>Front End</h4>

<p>使用PHP编写的前端网页</p>

<h2>
<a name="project-time-schedule" class="anchor" href="#project-time-schedule"><span class="octicon octicon-link"></span></a>Project Time Schedule</h2>

<hr><p>LUD = last update date</p>

<table>
<thead><tr>
<th align="left">N</th>
<th align="left">LUD</th>
<th align="left">Project Phase</th>
<th align="left">Description</th>
</tr></thead>
<tbody>
<tr>
<td align="left">01</td>
<td align="left">20130809</td>
<td align="left">PreProcess</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">02</td>
<td align="left">20130809</td>
<td align="left">DelDuplicate</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">03</td>
<td align="left">20130812</td>
<td align="left">CalcSimilarity</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">04</td>
<td align="left">-</td>
<td align="left">QueryFrontEnd</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">05</td>
<td align="left">-</td>
<td align="left">WebPage</td>
<td align="left"></td>
</tr>
</tbody>
</table><h3>
<a name="1-preprocess--build-data-library-file--index" class="anchor" href="#1-preprocess--build-data-library-file--index"><span class="octicon octicon-link"></span></a>1. PreProcess / Build Data Library File &amp; Index</h3>

<table>
<thead><tr>
<th align="center">N</th>
<th align="left">LUD</th>
<th align="left">V</th>
<th align="left">code file</th>
<th align="left">Description</th>
</tr></thead>
<tbody>
<tr>
<td align="center">001</td>
<td align="left">20130722</td>
<td align="left">0.1</td>
<td align="left">getfileinfo.py</td>
<td align="left">add:读取文件、解析内容方法</td>
</tr>
<tr>
<td align="center">002</td>
<td align="left">20130722</td>
<td align="left">0.1</td>
<td align="left">ripepage.py</td>
<td align="left">add:生成抓取结果库文件</td>
</tr>
<tr>
<td align="center">003</td>
<td align="left">20130730</td>
<td align="left">0.1</td>
<td align="left">queryindex.py</td>
<td align="left">add:生成关键词索引文件</td>
</tr>
<tr>
<td align="center">004</td>
<td align="left">20130809</td>
<td align="left">0.2</td>
<td align="left">getfileinfo.py</td>
<td align="left">fix:解析方式，以空格替换任意空白符</td>
</tr>
<tr>
<td align="center">005</td>
<td align="left">20130809</td>
<td align="left">0.2</td>
<td align="left">ripepage.py</td>
<td align="left">fix:不输出读取失败的文件、模拟重复</td>
</tr>
</tbody>
</table><h3>
<a name="2-delduplicate--build-query-keywords-file" class="anchor" href="#2-delduplicate--build-query-keywords-file"><span class="octicon octicon-link"></span></a>2. DelDuplicate &amp; Build Query Keywords File</h3>

<table>
<thead><tr>
<th align="center">N</th>
<th align="left">LUD</th>
<th align="left">V</th>
<th align="left">code file</th>
<th align="left">Description</th>
</tr></thead>
<tbody>
<tr>
<td align="center">001</td>
<td align="left">20130805</td>
<td align="left">0.1</td>
<td align="left">Document.h</td>
<td align="left">add:定义Document类</td>
</tr>
<tr>
<td align="center">002</td>
<td align="left">20130805</td>
<td align="left">0.1</td>
<td align="left">Document.cpp</td>
<td align="left"></td>
</tr>
<tr>
<td align="center">003</td>
<td align="left">20130805</td>
<td align="left">0.1</td>
<td align="left">DocumentKits.h</td>
<td align="left">add:读取正文、载入文件、转换编码函数</td>
</tr>
<tr>
<td align="center">004</td>
<td align="left">20130805</td>
<td align="left">0.1</td>
<td align="left">DocumentKits.cpp</td>
<td align="left"></td>
</tr>
<tr>
<td align="center">005</td>
<td align="left">20130805</td>
<td align="left">0.1</td>
<td align="left">QueryDemo.cpp</td>
<td align="left">add:查询测试模块</td>
</tr>
<tr>
<td align="center">005</td>
<td align="left">20130806</td>
<td align="left">0.2</td>
<td align="left">Document.h</td>
<td align="left">fix:以重载关系操作符代替比较函数</td>
</tr>
<tr>
<td align="center">006</td>
<td align="left">20130806</td>
<td align="left">0.2</td>
<td align="left">Document.cpp</td>
<td align="left"></td>
</tr>
<tr>
<td align="center">007</td>
<td align="left">20130806</td>
<td align="left">0.2</td>
<td align="left">DocumentKits.h</td>
<td align="left">add:分词、去重函数</td>
</tr>
<tr>
<td align="center">008</td>
<td align="left">20130806</td>
<td align="left">0.2</td>
<td align="left">DocumentKits.cpp</td>
<td align="left"></td>
</tr>
<tr>
<td align="center">009</td>
<td align="left">20130808</td>
<td align="left">0.3</td>
<td align="left">DocumentKits.h</td>
<td align="left">update:封装为类</td>
</tr>
<tr>
<td align="center">010</td>
<td align="left">20130808</td>
<td align="left">0.3</td>
<td align="left">DocumentKits.cpp</td>
<td align="left"></td>
</tr>
<tr>
<td align="center">001</td>
<td align="left">20130808</td>
<td align="left">0.2</td>
<td align="left">QueryDemo.cpp</td>
<td align="left">update:</td>
</tr>
<tr>
<td align="center">011</td>
<td align="left">20130809</td>
<td align="left">0.4</td>
<td align="left">DocumentKits.h</td>
<td align="left">add:生成查询词库方法</td>
</tr>
<tr>
<td align="center">012</td>
<td align="left">20130809</td>
<td align="left">0.4</td>
<td align="left">DocumentKits.cpp</td>
<td align="left"></td>
</tr>
<tr>
<td align="center">013</td>
<td align="left">20130809</td>
<td align="left">0.3</td>
<td align="left">QueryDemo.cpp</td>
<td align="left"></td>
</tr>
</tbody>
</table><h3>
<a name="3-calcsimilarity" class="anchor" href="#3-calcsimilarity"><span class="octicon octicon-link"></span></a>3. CalcSimilarity</h3>

<table>
<thead><tr>
<th align="center">N</th>
<th align="left">LUD</th>
<th align="left">V</th>
<th align="left">code file</th>
<th align="left">Description</th>
</tr></thead>
<tbody>
<tr>
<td align="center">001</td>
<td align="left">20130812</td>
<td align="left">0.5</td>
<td align="left">DocumentKits.h</td>
<td align="left">add:初始化文档向量、计算相似度方法</td>
</tr>
<tr>
<td align="center">002</td>
<td align="left">20130812</td>
<td align="left">0.5</td>
<td align="left">DocumentKits.cpp</td>
<td align="left"></td>
</tr>
<tr>
<td align="center">003</td>
<td align="left">20130812</td>
<td align="left">0.4</td>
<td align="left">QueryDemo.cpp</td>
<td align="left">update:测试计算相似度</td>
</tr>
</tbody>
</table><h3>
<a name="4-query-process" class="anchor" href="#4-query-process"><span class="octicon octicon-link"></span></a>4. Query Process</h3>

<h3>
<a name="5-queryfrontend" class="anchor" href="#5-queryfrontend"><span class="octicon octicon-link"></span></a>5. QueryFrontEnd</h3>

<table>
<thead><tr>
<th align="center">N</th>
<th align="left">LUD</th>
<th align="left">V</th>
<th align="left">code file</th>
<th align="left">Description</th>
</tr></thead>
<tbody><tr>
<td align="center">-</td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
</tr></tbody>
</table><h2>
<a name="issue" class="anchor" href="#issue"><span class="octicon octicon-link"></span></a>Issue</h2>

<hr><ol>
<li><p>读取数据文件编码问题</p></li>
<li><p>读取文件标签匹配问题</p></li>
<li><p>标题多于一行</p></li>
<li><p>文章空白符、换行符处理方式</p></li>
<li><p>生成文件索引的字节位置在query标签前</p></li>
<li><p>取top10 受排序影响，同词频的词导致不同的top10，并影响结果</p></li>
<li><p>c++容器变量空间，堆／栈</p></li>
<li><p>c++ STL map按value排序</p></li>
<li><p>内存优化</p></li>
<li><p>多线程优化</p></li>
</ol><h2>
<a name="q--a" class="anchor" href="#q--a"><span class="octicon octicon-link"></span></a>Q &amp; A</h2>

<hr><h2>
<a name="some-comment" class="anchor" href="#some-comment"><span class="octicon octicon-link"></span></a>Some Comment</h2>

<hr><ol>
<li><p>设计模式 单例模式etc</p></li>
<li><p>rebuild 重构概念</p></li>
<li><p>缓存cache</p></li>
</ol><hr><h2>
<a name="reference" class="anchor" href="#reference"><span class="octicon octicon-link"></span></a>Reference</h2>

<ol>
<li>分词原理</li>
<li>VSM</li>
<li>余弦相似度</li>
<li>文本聚类</li>
</ol>
      </section>

    </div>
    <!--[if !IE]><script>fixScale(document);</script><![endif]-->
    
  </body>
</html>